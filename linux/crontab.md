# crontab

linux 下经常会是用定时任务来执行脚本,crontab使用起来还是挺简单的,直接把以前写的博客拿来简单的整理下

### 1. crontab 格式说明
我只记住了一句话: 分时日月周 命令
下面是网上找的图:
![](http://img.justwkj.com/20190529091445.png)

### 2. 占位符的解释
- 星号（*）：代表所有可能的值，例如month字段如果是星号，则表示在满足其它字段的制约条件后每月都执行该命令操作。,简单的解释就是: 每(分钟/小时/天... ),具体看在某个位置
- 逗号（,）：可以用逗号隔开的值指定一个列表范围，例如，“1,2,5,7,8,9”
- 中杠（-）：可以用整数之间的中杠表示一个整数范围，例如“2-6”表示“2,3,4,5,6”
- 正斜线（/）：可以用正斜线指定时间的间隔频率，例如“0-23/2”表示每两小时执行一次。同时正斜线可以和星号一起使用，例如*/10，如果用在minute字段，表示每十分钟执行一次。* 就是 */1

### 3. 简单例子
比如每天0点备份数据库blog
可以创建一个 db_bak_blog.sh 添加备份的脚本
`/bin/mysqldump -uusername -ppasspord -B dbname > dbname_$(date "+%F" -d -1day).sql`

脚本完成之后,添加定时任务:
`crontab -e`
末尾添加一行
> 00 00 * * * /bin/sh jobs/db_bak_dbname.sh >/dev/null 2>&1

使用 `crontab -l`查看有哪些定时任务  
使用`tail -f /var/log/cron`查看近期执行了哪些任务


